<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SmartSnippets DA1468x SDK: sdk/bsp/peripherals/include/hw_rf.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SmartSnippets DA1468x SDK
   &#160;<span id="projectnumber">Version 1.0.6.968</span>
   </div>
   <div id="projectbrief">Bluetooth Smart</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_243a4ba6b4f893d71afbb5a3e90552fa.html">sdk</a></li><li class="navelem"><a class="el" href="dir_1b831ef1cecb49d6eddab2beb5a76e48.html">bsp</a></li><li class="navelem"><a class="el" href="dir_937144c9b7a1e4674ae40c2b5f1a4e9d.html">peripherals</a></li><li class="navelem"><a class="el" href="dir_4127c30225f0c1d044a3c954a898f814.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hw_rf.h File Reference<div class="ingroups"><a class="el" href="group___b_s_p.html">BSP</a> &raquo; <a class="el" href="group___d_e_v_i_c_e_s.html">DEVICES</a> &raquo; <a class="el" href="group___r_f.html">RF</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Radio module (RF) Low Level Driver API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sdk__defs_8h_source.html">sdk_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hw__cpm_8h_source.html">hw_cpm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hw__fem__sky66112-11_8h_source.html">hw_fem_sky66112-11.h</a>&quot;</code><br />
</div>
<p><a href="hw__rf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0467a600ff34c2de3c47bd49218314ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga0467a600ff34c2de3c47bd49218314ca">hw_rf_system_init</a> (void)</td></tr>
<tr class="memdesc:ga0467a600ff34c2de3c47bd49218314ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes RF system, and performs the initial calibration.  <a href="group___r_f.html#ga0467a600ff34c2de3c47bd49218314ca">More...</a><br /></td></tr>
<tr class="separator:ga0467a600ff34c2de3c47bd49218314ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac56c7eda6a689c29554a08147517f8d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac56c7eda6a689c29554a08147517f8d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#gac56c7eda6a689c29554a08147517f8d3">hw_rf_set_recommended_settings</a> (void)</td></tr>
<tr class="memdesc:gac56c7eda6a689c29554a08147517f8d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets parameters according to their recommended values. <br /></td></tr>
<tr class="separator:gac56c7eda6a689c29554a08147517f8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1aa7c695a2381943bc5caf024af4061"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf1aa7c695a2381943bc5caf024af4061"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#gaf1aa7c695a2381943bc5caf024af4061">hw_rf_iff_calibration</a> (void)</td></tr>
<tr class="memdesc:gaf1aa7c695a2381943bc5caf024af4061"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re)calibrates Intermediate Frequency Filter (IFF). <br /></td></tr>
<tr class="separator:gaf1aa7c695a2381943bc5caf024af4061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad17aa11deb53c37de30b8b3ab353f797"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad17aa11deb53c37de30b8b3ab353f797"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#gad17aa11deb53c37de30b8b3ab353f797">hw_rf_dc_offset_calibration</a> (void)</td></tr>
<tr class="memdesc:gad17aa11deb53c37de30b8b3ab353f797"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re)calibrates RF DC offset. <br /></td></tr>
<tr class="separator:gad17aa11deb53c37de30b8b3ab353f797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79606992bf2c51403e04f9f389afe6da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga79606992bf2c51403e04f9f389afe6da"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga79606992bf2c51403e04f9f389afe6da">hw_rf_modulation_gain_calibration</a> (bool)</td></tr>
<tr class="memdesc:ga79606992bf2c51403e04f9f389afe6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re)calibrates modulation gain. <br /></td></tr>
<tr class="separator:ga79606992bf2c51403e04f9f389afe6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17949ce95ef921ddba7f54ea1607e5d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga17949ce95ef921ddba7f54ea1607e5d0">hw_rf_calibration</a> (void)</td></tr>
<tr class="memdesc:ga17949ce95ef921ddba7f54ea1607e5d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to (re)calibrate all RF related modules.  <a href="group___r_f.html#ga17949ce95ef921ddba7f54ea1607e5d0">More...</a><br /></td></tr>
<tr class="separator:ga17949ce95ef921ddba7f54ea1607e5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga699dba6b66adbf934c05bdf747b7c902"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga699dba6b66adbf934c05bdf747b7c902">hw_rf_start_calibration</a> ()</td></tr>
<tr class="memdesc:ga699dba6b66adbf934c05bdf747b7c902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start Calibration procedure and return.  <a href="group___r_f.html#ga699dba6b66adbf934c05bdf747b7c902">More...</a><br /></td></tr>
<tr class="separator:ga699dba6b66adbf934c05bdf747b7c902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga195907660668651106b22654ebdfbb20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga195907660668651106b22654ebdfbb20"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga195907660668651106b22654ebdfbb20">hw_rf_poweron</a> (void) <a class="el" href="struct____attribute____.html">__attribute__</a>((always_inline))</td></tr>
<tr class="memdesc:ga195907660668651106b22654ebdfbb20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on RF module. <br /></td></tr>
<tr class="separator:ga195907660668651106b22654ebdfbb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga447ff5d98c7531f4e5b0848a636ca854"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga447ff5d98c7531f4e5b0848a636ca854"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga447ff5d98c7531f4e5b0848a636ca854">hw_rf_poweroff</a> ()</td></tr>
<tr class="memdesc:ga447ff5d98c7531f4e5b0848a636ca854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off RF module. <br /></td></tr>
<tr class="separator:ga447ff5d98c7531f4e5b0848a636ca854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f409fc438577676639f16286d5523f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga7f409fc438577676639f16286d5523f0">hw_rf_request_recommended_settings</a> (void)</td></tr>
<tr class="memdesc:ga7f409fc438577676639f16286d5523f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets parameters according to their recommended values, taking RF state into account.  <a href="group___r_f.html#ga7f409fc438577676639f16286d5523f0">More...</a><br /></td></tr>
<tr class="separator:ga7f409fc438577676639f16286d5523f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84eb7761c4f9f8bbc84e05f68f186b59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___p_l_a_t_f_o_r_m.html#gac1d009c7974fe02aff2c09b7588bf7de">__RETAINED_CODE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga84eb7761c4f9f8bbc84e05f68f186b59">hw_rf_request_on</a> (bool mode_ble)</td></tr>
<tr class="memdesc:ga84eb7761c4f9f8bbc84e05f68f186b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the RF is turned on.  <a href="group___r_f.html#ga84eb7761c4f9f8bbc84e05f68f186b59">More...</a><br /></td></tr>
<tr class="separator:ga84eb7761c4f9f8bbc84e05f68f186b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19de642e5dc2c76be0ab049783c0d1f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_f.html#ga19de642e5dc2c76be0ab049783c0d1f2">hw_rf_request_off</a> (bool mode_ble)</td></tr>
<tr class="memdesc:ga19de642e5dc2c76be0ab049783c0d1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the RF is turned off.  <a href="group___r_f.html#ga19de642e5dc2c76be0ab049783c0d1f2">More...</a><br /></td></tr>
<tr class="separator:ga19de642e5dc2c76be0ab049783c0d1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Radio module (RF) Low Level Driver API. </p>
<dl class="section note"><dt>Note</dt><dd>The following recalibration-related weak functions can be overridden, if needed, to provide additional functionality</dd>
<dd>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> hw_rf_preoff_cb(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd>
<dd>
Called before actually shutting down the RF PD. If this returns true, the PD will NOT be shutdown, but will stay on. This function can be used to decide whether an RF recalibration is needed and to start the respective operation. The default implementation (if an explicit implementation is omitted) returns false (i.e. the RF PD shuts off immediately).</dd>
<dd>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> hw_rf_postconf_cb(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd>
<dd>
Called after the RF recommended settings are applied, or after the recalibration procedure is completed. Can be used to start/reset a recalibration timer, in case periodic recalibration is enabled using dg_configRF_RECALIBRATION_TIMER_TIMEOUT</dd>
<dd>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> hw_rf_precalib_cb(<span class="keywordtype">void</span>)</div>
<div class="line">void hw_rf_postcalib_cb(<span class="keywordtype">void</span>):</div>
</div><!-- fragment --></dd>
<dd>
Called when the re-calibration (not the initial calibration) procedure starts/ends. Can be used to instruct the system not to go to sleep during this time.</dd>
<dd>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> hw_rf_apply_tcs_cb(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd>
<dd>
Called before applying the rf recommended settings. The implementation should apply the TCS values</dd>
<dd>
<div class="fragment"><div class="line">uint32_t hw_rf_get_start_iff_time(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd>
<dd>
Called to get the time when IFF calibration starts</dd>
<dd>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> hw_rf_check_iff_timeout(uint32_t start_time)</div>
</div><!-- fragment --></dd>
<dd>
Called to check if IFF calibration has timed-out (i.e. took too long). It takes argument the IFF calib start_time, as return by hw_rf_get_start_iff_time(). It should normally check against config macro dg_configRF_IFF_CALIBRATION_TIMEOUT.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>All the above functions are called in a critical section. They should not block.</dd></dl>
<p>Copyright (C) 2015. Dialog Semiconductor Ltd, unpublished work. This computer program includes Confidential, Proprietary Information and is a Trade Secret of Dialog Semiconductor Ltd. All use, disclosure, and/or reproduction is prohibited unless authorized in writing. All Rights Reserved.</p>
<p><a href="#" onclick="location.href='mai'+'lto:'+'bla'+'ck'+'.or'+'ca'+'.su'+'pp'+'ort'+'@d'+'ias'+'em'+'i.c'+'om'; return false;">black<span style="display: none;">.nosp@m.</span>.orc<span style="display: none;">.nosp@m.</span>a.sup<span style="display: none;">.nosp@m.</span>port<span style="display: none;">.nosp@m.</span>@dias<span style="display: none;">.nosp@m.</span>emi.<span style="display: none;">.nosp@m.</span>com</a> and contributors. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 22 2016 19:41:08 for SmartSnippets DA1468x SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
